
{% extends 'poetist_dashboard/dashboard_base.html' %}
{% load staticfiles %}
<head>
{% block title %}
    Content List | Dashboard | Ayesha Pages 
{% endblock %}
</head>
<body>
{% block content_header %}

    <div id="wrapper">
    {% block d_nav_bar %}
        <!-- Navigation -->
        {% include "poetist_dashboard/d_nav_bar.html" %}
    {% endblock d_nav_bar %}

        <div id="page-wrapper">

            <div class="container-fluid">

                <!-- Page Heading -->
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header pull-right" >
                        <a href="
                        {% if content_name == 'All Stories' %}
                            {% url 'dashboard:new_story' %}
                        {% elif content_name == 'All Riddles' %}
                            {% url 'dashboard:new_riddle' %}
                        {% elif content_name == 'All Poems' %}
                            {% url 'dashboard:new_poem' %}
                        {% endif %}

                        " type="button" class="btn btn-primary"><i class="fa fa-plus"></i> Add New</a>
                        <a href="
                        {% if content_name == 'All Stories' %}
                            {% url 'writer:story_list' %}
                        {% elif content_name == 'All Riddles' %}
                            {% url 'writer:riddle_list' %}
                        {% elif content_name == 'All Poems' %}
                            {% url 'writer:poem_list' %}
                        {% endif %}

                        " type="button" class="btn btn-info"><i class="fa fa-eye"></i> Visit Page</a>
                        <!-- For creating a new instance. Custom for all types of forms. -->
                        </h1>
                        <h1 class="page-header">
                            {{ content_name }}
                            <small>{{ content_name_detail }}</small>
                        </h1>
                        <ol class="breadcrumb">
                            <li>
                                <i class="fa fa-dashboard"></i>  <a href="{% url 'poetist_dashboard:list' %}">Dashboard</a>
                            </li>
                            <li class="active">
                                <i class="fa fa-file"></i> {{ content_name }}
                            </li>
                        </ol>
                    </div>



<!-- ########### P O E M S    P A G E ################## -->
                    {% if name == 'd_a_poem' %}
                        <div class="col-lg-11 ">
                            <div class="jumbotron">
                                <h3>Report</h3>
                                <p>You have written a total of 
                                <b>{{poems|length}}</b>
                                poem{{poems|pluralize}}
                                since dd-mm-yy, of which 
                                <b>
                                    {% if poem_published|length == poems|length %}
                                        all 
                                    {% else %}
                                        {{poem_published|length}}
                                    {% endif %}
                                </b>
                                {{ poem_published|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->
                                published and 
                                <b>
                                    {% if poem_draft|length == 0 %}
                                        none 
                                    {% else %} 
                                        {{poem_draft|length}}
                                    {% endif %}
                                </b>
                                {{ poem_draft|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->
                                in draft.</p>
                            </div>
                        </div>

<!-- ###########################      A L L    D R A F T    P O E M S     ###################### -->


                        {% if poem_draft %}
                            <div class="col-lg-11">
                                <h2>Poem Drafts</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Poem Title</th>
                                                <th>poet id</th>
                                                <th>poet name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in poem_draft %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.poet.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.poet.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_poem == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default">
                                                    <i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for draft poems -->
                        {% endif %}



<!-- ######################     A L L    P U B L I S H E D    P O E M S      ########################## -->
                        {% if poem_published %}
                            <div class="col-lg-11">
                                <h2>Published Poems</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Poem Title</th>
                                                <th>poet id</th>                                             <th>Poet Name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in poem_published %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.poet.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.poet.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>                                                
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_poem == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default">
                                                    <i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for published poems -->
                        {% endif %}

<!-- ##############################      A L L    P O E M S       ##################################### -->

                        <div class="col-lg-11 ">
                            <h2>{{content_name}}</h2>
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-striped">
                                    <thead>
                                        <tr>
                                            <th>sno</th>
                                            <th>Poem Title</th>
                                            <th>poet id</th>
                                            <th>Poet Name</th>
                                            <th>Live since</th>
                                            <th>Status </th>
                                            <th>View & Edit</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for p in poems %}
                                            <tr>
                                                <td>{{ forloop.counter }}</td>
                                                <td>{{ p.title }}</td>
                                                <td>
                                                {% for name in p.poet.all %}
                                                    {{ name.user_name }}
                                                {% endfor %}
                                                </td>
                                                <td>
                                                {% for name in p.poet.all %}
                                                    {{ name.user_name.get_full_name }}
                                                {% endfor %}
                                                </td>
                                                <td>{{ p.timestamp|timesince }}</td>
                                                <td>{% if p.show_poem == True %}
                                                <span class="label label-success">Published</span>
                                                {% else %}
                                                <span class="label label-warning">DRAFT</span>
                                                {% endif %}</td>
                                                <td>
                                                <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                            <br>
                        </div>
                        <!-- /.table div for all poems -->
                    {% endif %}

 
<!-- ########### S T O R I E S    P A G E ################## -->
                    {% if name == 'd_a_story' %}

                        <div class="col-lg-11">
                            <div class="jumbotron">
                                <h3>Report</h3>
                                <p>You have written a total of 
                                <b>{{ stories|length }}</b>
                                stor{{ stories|pluralize:"y,ies" }}
                                since dd-mm-yy, of which 
                                <b>
                                    {% if story_published|length == stories|length %}
                                        all 
                                    {% else %}
                                        {{ story_published|length }}
                                    {% endif %}
                                </b>
                                {{ story_published|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->                            
                                published and 
                                <b>
                                    {% if story_draft|length == 0 %}
                                        none 
                                    {% else %} 
                                        {{story_draft|length}}
                                    {% endif %}
                                </b>
                                {{ story_draft|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->                            
                                in draft.</p>
                            </div>
                        </div>

<!-- ########################          A L L    D R A F T    S T O R Y     ########################## -->
                        
                        {% if story_draft %}
                            <div class="col-lg-11">
                                <h2>Story Drafts</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Story Title</th>
                                                <th>Author ID</th>
                                                <th>Author Name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in story_draft %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_story == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for draft story -->
                        {% endif %}

<!-- ####################      A L L    P U B L I S H E D    S T O R Y        ######################### -->

                        {% if story_published|length != stories|length %}
                            <div class="col-lg-11">
                                <h2>Published Stories</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Story Title</th>
                                                <th>Author ID</th>
                                                <th>Author Name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in story_published %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_story == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for published story -->
                        {% endif %}

<!-- ############################     A L L      S T O R Y        ########################## -->

                        <div class="col-lg-11">
                            <h2>{{content_name}}</h2>
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-striped">
                                    <thead>
                                        <tr>
                                            <th>sno</th>
                                            <th>Story Title</th>
                                            <th>Author ID</th>
                                            <th>Author Name</th>
                                            <th>Live since</th>
                                            <th>Status </th>
                                            <th>View & Edit</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for p in stories %}
                                            <tr>
                                                <td>{{ forloop.counter }}</td>
                                                <td>{{ p.title }}</td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.author.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                <td>{{ p.timestamp|timesince }}</td>
                                                <td>{% if p.show_story == True %}
                                                <span class="label label-success">Published</span>
                                                {% else %}
                                                <span class="label label-warning">DRAFT</span>
                                                {% endif %}</td>
                                                <td>
                                                <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                            <br>
                        </div>
                        <!-- /.table div for all story -->
                    {% endif %}


<!-- ########### R I D D L E S    P A G E ################## -->
                    {% if name == 'd_a_riddle' %}
                        <div class="col-lg-11">
                            <div class="jumbotron">
                                <h3>Report</h3>
                                <p>You have written a total of 
                                <b>{{riddles|length}}</b> 
                                riddle{{riddles|pluralize}} since dd-mm-yy, of which 
                                <b>
                                    {% if riddle_published|length == riddles|length %}
                                        all 
                                    {% else %}
                                        {{riddle_published|length}}
                                    {% endif %}
                                </b>
                                {{ riddle_published|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->
                                published and 
                                <b>
                                    {% if riddle_draft|length == 0 %}
                                        none 
                                    {% else %} 
                                        {{riddle_draft|length}}
                                    {% endif %}
                                </b>
                                {{ riddle_draft|pluralize:"is,are" }}<!-- This will automatically choose is or are depending on number -->                            
                                in draft.</p>
                            </div>
                        </div>

<!-- ####################       A L L    D R A F T    R I D D L E           ################## -->

                        {% if riddle_draft %}
                            <div class="col-lg-11">
                                <h2>Riddle Drafts</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Riddle Title</th>
                                                <th>Riddler ID</th>
                                                <th>Riddler Name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in riddle_draft %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_riddle == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for draft Riddle  -->
                        {% endif %}

                    
<!-- ##################         A L L    P U B L I S H E D    R I D D L E        ############### -->

                        {% if riddle_published %}
                            <div class="col-lg-11">
                                <h2>Published Riddle</h2>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>sno</th>
                                                <th>Riddle Title</th>
                                                <th>Riddler ID</th>
                                                <th>Riddler Name</th>
                                                <th>Live since</th>
                                                <th>Status </th>
                                                <th>View & Edit</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for p in riddle_published %}
                                                <tr>
                                                    <td>{{ forloop.counter }}</td>
                                                    <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>{{ p.timestamp|timesince }}</td>
                                                    <td>
                                                    {% if p.show_riddle == True %}
                                                    <span class="label label-success">Published</span>
                                                    {% else %}
                                                    <span class="label label-warning">DRAFT</span>
                                                    {% endif %}
                                                    </td>
                                                    <td>
                                                    <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                    <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <br>
                            </div>
                        <!-- /.table div for Published Riddle -->
                        {% endif %}


<!-- ###########################        A L L    R I D D L E S           ##################### -->

                        <div class="col-lg-11">
                            <h2>{{content_name}}</h2>
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-striped">
                                    <thead>
                                        <tr>
                                            <th>sno</th>
                                            <th>Riddle Title</th>
                                            <th>Riddler ID</th>
                                            <th>Riddler Name</th>
                                            <th>Live since</th>
                                            <th>Status </th>
                                            <th>View & Edit</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for p in riddles %}
                                            <tr>
                                                <td>{{ forloop.counter }}</td>
                                                <td>{{ p.title}}</td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name }}
                                                    {% endfor %}
                                                    </td>
                                                    <td>
                                                    {% for name in p.riddler.all %}
                                                        {{ name.user_name.get_full_name }}
                                                    {% endfor %}
                                                    </td>
                                                <td>{{ p.timestamp|timesince }}</td>
                                                <td>{% if p.show_riddle == True %}
                                                <span class="label label-success">Published</span>
                                                {% else %}
                                                <span class="label label-warning">DRAFT</span>
                                                {% endif %}</td>
                                                <td>
                                                <a href="{{ p.get_absolute_url }}" class="button btn btn-default"><i class="fa fa-fw fa-eye"></i></a>
                                                <a href="{{ p.get_absolute_url }}/edit" class="button btn btn-default"><i class="fa fa-fw fa-pencil"></i></a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <!-- /.table div for All riddles  -->
                            </div>
                            <br>
                        </div>
                    {% endif %}
                </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </div>
        {% include 'poetist_footer.html' %}
        <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->
{% endblock content_header %}
</body>

</html>
